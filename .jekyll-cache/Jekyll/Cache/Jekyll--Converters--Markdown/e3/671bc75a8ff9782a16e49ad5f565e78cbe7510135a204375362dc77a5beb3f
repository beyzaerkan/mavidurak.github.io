I"GS<p>Gulpjs front-end’de iş akışınızı otomatikleştirmeye yarayan Nodejs tabanlı bir Javascript aracıdır.Bazen manuel olarak yapılan ve gereksiz yere vakit kaybedilen işlerde Gulpjs yardımınıza hızır gibi yetişmektedir.Alternatif olarak Grunt aracıda kullanılmaktadır ancak Grunt’u,Gulp’a göre kod bakımından okuması daha zordur ve Gulp üzerindeki konfigrasyonları nodejs kodu gibi çalıştırdığından Grunt’a göre daha hızlı çalışmaktadır.(Gulp ile yaptığınız tüm işleri Grunt ile de yapabilirsiniz)<!--more--></p>

<h3 id="gulp-ile-neler-yapılabilir-">Gulp ile neler yapılabilir ?</h3>
<ul>
  <li>Javascript dosyalarınızı sıkıştırabilirsiniz <a href="https://github.com/terinjokes/gulp-uglify">(gulp-uglify)</a></li>
  <li>CSS dosyalarınızı sıkıştırabilirsiniz <a href="https://www.npmjs.com/package/gulp-minify-css">(gulp-minify-css)</a></li>
  <li>CSS ve JS dosyalarınızı tek bir dosyada toplayabilirsiniz <a href="https://github.com/contra/gulp-concat">(gulp-concat)</a></li>
  <li>Resimlerinizi sıkıştırabilir <a href="https://www.npmjs.com/package/gulp-imagemin/">(gulp-imagemin)</a> ve optimize edebilirsiniz <a href="https://www.npmjs.com/package/gulp-image-optimization">(gulp-image-optimization)</a></li>
  <li>Javascript hata kontrolü yapabilirsiniz <a href="https://www.npmjs.com/package/gulp-jslint/">(gulp-jslint)</a></li>
  <li>CSS hata kontrolü yapabilirsiniz <a href="https://www.npmjs.com/package/gulp-csslint/">(gulp-csslint)</a></li>
  <li>SASS <a href="https://www.npmjs.com/package/gulp-ruby-sass/">(gulp-ruby-sass)</a>,LESS <a href="https://www.npmjs.com/package/gulp-less/">(gulp-less)</a> ve Stylus <a href="https://www.npmjs.com/package/gulp-stylus/">(gulp-stylus)</a> dosyalarınızı CSS çevirebilirsiniz</li>
  <li>Değişiklik yaptığınız dosya üzerinde watcher oluşturabilirsiniz <a href="https://www.npmjs.com/package/gulp-watch/">(gulp-watch)</a></li>
  <li>CoffeeScript dosyalarınızı JS olarak derleyebilirsiniz <a href="https://www.npmjs.com/package/gulp-coffee/">(gulp-coffee)</a></li>
</ul>

<p>Daha fazla eklenti için <a href="http://gulpjs.com/plugins/">http://gulpjs.com/plugins/</a> adresini ziyaret edebilirsiniz.</p>

<h3 id="kurulum">Kurulum</h3>

<p>Gulp yükleyebilmek için makinanızda nodejs yüklü olması gerekmektedir.Nodejs kendi sitesinden edinebilirsiniz.</p>

<p>Nodejs kurulumunu tamamladıktan sonra Gulp kurulumuna başlayabiliriz</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npm <span class="nb">install</span> <span class="nt">-g</span> gulp</code></pre></figure>

<p>Gulp global olarak kuruldu ancak yapacağımız her projeye gulpjs tekrardan indirmek zorundayız.Bunun için terminalden proje dizinine giderek gulpjs projeye dahil ediyoruz.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npm <span class="nb">install</span> <span class="nt">--save-dev</span> gulp</code></pre></figure>

<p>Daha sonra projenin ana dizinine <code class="language-plaintext highlighter-rouge">gulpfile.js</code> adında bir js dosyası oluşturuyoruz.Bu dosya içerisine aşağıdaki kodları yazarak ilk taskımızı oluşturabiliriz.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">);</span>
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">default</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Default task running</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span></code></pre></figure>

<p>Dosyayı kaydedip terminale <strong>gulp</strong> yazdığımızda karşımıza şöyle bir ekran gelecektir</p>

<p><img src="http://emre-kose.net/wp-content/uploads/2015/09/Screenshot-from-2015-09-18-173540.png" alt="" /></p>

<p>Burada <strong>default</strong> task adıdır.Default task dışında bir task yazmışsanız, terminale çalıştırmak için <strong>gulp task_adı</strong> komutunu yazmanız gerekmektedir.</p>

<p>Şimdide üstte bahsettiğim gulp-pluginlerden birkaçını deneyelim</p>

<p>Örneğin js dosyalarımızı sıkıştırıp tek bir dosyada toplamak istiyoruz.Bunun için gerekli pluginler : gulp-uglify ve gulp-concat</p>

<p>Hemen bu pluginleri projemize dahil edelim</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npm <span class="nb">install</span> <span class="nt">--save-dev</span> gulp-uglify gulp-concat</code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">node_modules</code> klasörüne baktığınızda gulp-uglify ve gulp-concat klasörlerini gördüyseniz pluginler sorunsuz yüklendi demektir.</p>

<p>Şimdi <code class="language-plaintext highlighter-rouge">gulpfile.js</code> dosyamızın içeriğini güncelleyelim</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-uglify</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">concat</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-concat</span><span class="dl">'</span><span class="p">);</span>
 
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/js/*.js</span><span class="dl">'</span><span class="p">)</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts.js</span><span class="dl">'</span><span class="p">))</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">dist/js</span><span class="dl">'</span><span class="p">))</span>
<span class="p">});</span></code></pre></figure>

<p>Daha sonra terminale gidip <strong>gulp scripts</strong> yazdığımızda app/js klasörü içerisindeki tüm js dosyalarını sıkıştırıp scripts.js klasöründe birleştirecek ve dist/js klasörüne atacaktır.</p>

<p>Aynı şekilde CSS dosyalarını sıkıştırıp,birleştirmek için önce gulp-minify-css plugini indirdikten sonra <code class="language-plaintext highlighter-rouge">gulpfile.js</code> içerisindeki kodları güncelleyelim.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npm <span class="nb">install</span> <span class="nt">--save-dev</span> gulp-minify-css</code></pre></figure>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-uglify</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">minifyCSS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-minify-css</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">concat</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-concat</span><span class="dl">'</span><span class="p">);</span>
 
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/js/*.js</span><span class="dl">'</span><span class="p">)</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts.js</span><span class="dl">'</span><span class="p">))</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">))</span>
<span class="p">});</span>
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/css/*.css</span><span class="dl">'</span><span class="p">)</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minifyCSS</span><span class="p">({</span><span class="na">keepBreaks</span> <span class="p">:</span> <span class="kc">true</span><span class="p">}))</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">dist/css</span><span class="dl">'</span><span class="p">))</span>
<span class="p">});</span></code></pre></figure>

<p>Bu iki taskı çalıştırmak içinde terminale çalıştırmak istediğimiz taskın adını önüne gulp yazarak çalıştırıyoruz.
“Hepsini tek tek mi yazacağız? Nerde vakitten kazanç ?” dediğinizi duyar gibiyim.Sakin olun hemen onuda tek satır kodla halledelim.<code class="language-plaintext highlighter-rouge">gulpfile.js</code> dosyasını tekrar güncelleyelim.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">)</span>
	<span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-uglify</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">minifyCSS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-minify-css</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">concat</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-concat</span><span class="dl">'</span><span class="p">);</span>
 
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/js/*.js</span><span class="dl">'</span><span class="p">)</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts.js</span><span class="dl">'</span><span class="p">))</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">))</span>
<span class="p">});</span>
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/css/*.css</span><span class="dl">'</span><span class="p">)</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minifyCSS</span><span class="p">({</span><span class="na">keepBreaks</span> <span class="p">:</span> <span class="kc">true</span><span class="p">}))</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">dist/css</span><span class="dl">'</span><span class="p">))</span>
<span class="p">});</span>
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">default</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">]);</span></code></pre></figure>

<p>Son satıra dikkat ederseniz <strong>default</strong> task yazdık ve bu task çalıştırıldığı anda ‘scripts’ ve ‘styles’ tasklarımızında çalışmasını sağladık.Artık terminale gidip <strong>gulp</strong> yazmanız yeterli olacaktır.</p>

<p>Aslında problemler bitmedi.Hala vakitten kaybımız var.Şimdide şöyle bir senaryomuz olsun.Css kodluyorsunuz ve her kaydettiğinizde sıkıştırma ve birleştirme işlemini terminale giderek <strong>gulp styles</strong> mi yazacaksınız ? Tabikide hayır.Bu oldukça zahmetli bir iş.Bunun için watcher oluşturacağız ve her kaydettiğimizde otomatik olarak tasklar çalışacak.</p>

<p>Önce gulp-watch plugini indirelim</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npm <span class="nb">install</span> –save-dev gulp-watch</code></pre></figure>

<p>Daha sonra <code class="language-plaintext highlighter-rouge">gulpfile.js</code> dosyamızdaki kodları güncelleyelim.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-uglify</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">minifyCSS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-minify-css</span><span class="dl">'</span><span class="p">),</span>
	<span class="nx">concat</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-concat</span><span class="dl">'</span><span class="p">);</span>
 
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/js/*.js</span><span class="dl">'</span><span class="p">)</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts.js</span><span class="dl">'</span><span class="p">))</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">))</span>
<span class="p">});</span>
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/css/*.css</span><span class="dl">'</span><span class="p">)</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minifyCSS</span><span class="p">({</span><span class="na">keepBreaks</span> <span class="p">:</span> <span class="kc">true</span><span class="p">}))</span>
		<span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">dist/css</span><span class="dl">'</span><span class="p">))</span>
<span class="p">});</span>
 
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">watch</span><span class="dl">'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/js/*.js</span><span class="dl">'</span><span class="p">,[</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">]);</span>
        <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="dl">'</span><span class="s1">app/css/*.css</span><span class="dl">'</span><span class="p">,[</span><span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">]);</span>
<span class="p">});</span>
 
 
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">default</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">watch</span><span class="dl">'</span><span class="p">]);</span></code></pre></figure>

<p>Eklediğimiz watch taskınıda default taska depend ettik.Artık terminale gidip <strong>gulp</strong> yazmanız yeterli olacaktır.</p>

<p>Umarım faydalı olmuştur.Bir başka yazıda görüşmek dileğiyle.
Kalın sağlıcakla…</p>

:ET